
var __cov_$0Kgd0rAJjexUm0AkCi3IA = (Function('return this'))();
if (!__cov_$0Kgd0rAJjexUm0AkCi3IA.__coverage__) { __cov_$0Kgd0rAJjexUm0AkCi3IA.__coverage__ = {}; }
__cov_$0Kgd0rAJjexUm0AkCi3IA = __cov_$0Kgd0rAJjexUm0AkCi3IA.__coverage__;
if (!(__cov_$0Kgd0rAJjexUm0AkCi3IA['app/config/routes.js'])) {
   __cov_$0Kgd0rAJjexUm0AkCi3IA['app/config/routes.js'] = {"path":"app/config/routes.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":49}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":53}}},"3":{"name":"(anonymous_3)","line":22,"loc":{"start":{"line":22,"column":23},"end":{"line":22,"column":48}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":17},"end":{"line":26,"column":42}}},"5":{"name":"isLoggedIn","line":56,"loc":{"start":{"line":56,"column":4},"end":{"line":56,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":49}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"5":{"start":{"line":6,"column":0},"end":{"line":67,"column":2}},"6":{"start":{"line":9,"column":4},"end":{"line":16,"column":6}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":33}},"8":{"start":{"line":11,"column":8},"end":{"line":14,"column":11}},"9":{"start":{"line":17,"column":4},"end":{"line":17,"column":26}},"10":{"start":{"line":22,"column":4},"end":{"line":24,"column":7}},"11":{"start":{"line":23,"column":8},"end":{"line":23,"column":42}},"12":{"start":{"line":26,"column":4},"end":{"line":32,"column":7}},"13":{"start":{"line":27,"column":8},"end":{"line":27,"column":75}},"14":{"start":{"line":28,"column":8},"end":{"line":28,"column":86}},"15":{"start":{"line":29,"column":8},"end":{"line":29,"column":67}},"16":{"start":{"line":30,"column":8},"end":{"line":30,"column":61}},"17":{"start":{"line":31,"column":8},"end":{"line":31,"column":15}},"18":{"start":{"line":36,"column":4},"end":{"line":36,"column":83}},"19":{"start":{"line":37,"column":4},"end":{"line":37,"column":56}},"20":{"start":{"line":38,"column":4},"end":{"line":38,"column":46}},"21":{"start":{"line":39,"column":4},"end":{"line":39,"column":91}},"22":{"start":{"line":41,"column":4},"end":{"line":41,"column":74}},"23":{"start":{"line":42,"column":4},"end":{"line":42,"column":63}},"24":{"start":{"line":43,"column":4},"end":{"line":43,"column":68}},"25":{"start":{"line":44,"column":4},"end":{"line":44,"column":74}},"26":{"start":{"line":45,"column":4},"end":{"line":45,"column":73}},"27":{"start":{"line":56,"column":4},"end":{"line":62,"column":5}},"28":{"start":{"line":57,"column":8},"end":{"line":61,"column":9}},"29":{"start":{"line":58,"column":12},"end":{"line":58,"column":26}},"30":{"start":{"line":60,"column":12},"end":{"line":60,"column":26}}},"branchMap":{"1":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":8}},{"start":{"line":57,"column":8},"end":{"line":57,"column":8}}]}}};
}
__cov_$0Kgd0rAJjexUm0AkCi3IA = __cov_$0Kgd0rAJjexUm0AkCi3IA['app/config/routes.js'];
__cov_$0Kgd0rAJjexUm0AkCi3IA.s['1']++;var project=require('../controller/Project');__cov_$0Kgd0rAJjexUm0AkCi3IA.s['2']++;var person=require('../controller/Person');__cov_$0Kgd0rAJjexUm0AkCi3IA.s['3']++;var security=require('../controller/Security');__cov_$0Kgd0rAJjexUm0AkCi3IA.s['4']++;var passport=require('passport');__cov_$0Kgd0rAJjexUm0AkCi3IA.s['5']++;module.exports=function(app,config,passport){__cov_$0Kgd0rAJjexUm0AkCi3IA.f['1']++;__cov_$0Kgd0rAJjexUm0AkCi3IA.s['6']++;var errorHandler=function(err,req,res,next){__cov_$0Kgd0rAJjexUm0AkCi3IA.f['2']++;__cov_$0Kgd0rAJjexUm0AkCi3IA.s['7']++;console.error(err.stack);__cov_$0Kgd0rAJjexUm0AkCi3IA.s['8']++;res.status(500).json({text:'Internal error',error:err});};__cov_$0Kgd0rAJjexUm0AkCi3IA.s['9']++;app.use(errorHandler);__cov_$0Kgd0rAJjexUm0AkCi3IA.s['10']++;app.route('/').get(function(req,res,next){__cov_$0Kgd0rAJjexUm0AkCi3IA.f['3']++;__cov_$0Kgd0rAJjexUm0AkCi3IA.s['11']++;res.send(200,'PAC timetracker3');});__cov_$0Kgd0rAJjexUm0AkCi3IA.s['12']++;app.all('*',function(req,res,next){__cov_$0Kgd0rAJjexUm0AkCi3IA.f['4']++;__cov_$0Kgd0rAJjexUm0AkCi3IA.s['13']++;res.header('Access-Control-Allow-Origin','http://localhost:9000');__cov_$0Kgd0rAJjexUm0AkCi3IA.s['14']++;res.header('Access-Control-Allow-Methods','PUT, GET, POST, DELETE, OPTIONS');__cov_$0Kgd0rAJjexUm0AkCi3IA.s['15']++;res.header('Access-Control-Allow-Headers','Content-Type');__cov_$0Kgd0rAJjexUm0AkCi3IA.s['16']++;res.header('Access-Control-Allow-Credentials',true);__cov_$0Kgd0rAJjexUm0AkCi3IA.s['17']++;next();});__cov_$0Kgd0rAJjexUm0AkCi3IA.s['18']++;app.post('/auth/login',passport.authenticate('local'),security.sendAuthData);__cov_$0Kgd0rAJjexUm0AkCi3IA.s['19']++;app.get('/auth',isLoggedIn,security.sendAuthData);__cov_$0Kgd0rAJjexUm0AkCi3IA.s['20']++;app.post('/auth/logout',security.logout);__cov_$0Kgd0rAJjexUm0AkCi3IA.s['21']++;app.post('/auth/signup',passport.authenticate('local-signup'),security.sendAuthData);__cov_$0Kgd0rAJjexUm0AkCi3IA.s['22']++;app.get('/projects/visible',isLoggedIn,project.listVisibleProjects);__cov_$0Kgd0rAJjexUm0AkCi3IA.s['23']++;app.get('/projects/',isLoggedIn,project.listAllProjects);__cov_$0Kgd0rAJjexUm0AkCi3IA.s['24']++;app.put('/project/:projectId',isLoggedIn,project.saveProject);__cov_$0Kgd0rAJjexUm0AkCi3IA.s['25']++;app.post('/project/:projectId',isLoggedIn,project.createNewProject);__cov_$0Kgd0rAJjexUm0AkCi3IA.s['26']++;app.delete('/project/:projectId',isLoggedIn,project.deleteProject);function isLoggedIn(req,res,next){__cov_$0Kgd0rAJjexUm0AkCi3IA.f['5']++;__cov_$0Kgd0rAJjexUm0AkCi3IA.s['28']++;if(req.isAuthenticated()){__cov_$0Kgd0rAJjexUm0AkCi3IA.b['1'][0]++;__cov_$0Kgd0rAJjexUm0AkCi3IA.s['29']++;return next();}else{__cov_$0Kgd0rAJjexUm0AkCi3IA.b['1'][1]++;__cov_$0Kgd0rAJjexUm0AkCi3IA.s['30']++;res.send(401);}}};
